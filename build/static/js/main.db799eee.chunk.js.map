{"version":3,"sources":["Components/Person.js","Components/Persons.js","Components/Adding.js","Components/Filter.js","services/numbers.js","Components/Notification.js","App.js","index.js"],"names":["Person","person","deleteNumber","name","number","onClick","id","value","Persons","persons","search","console","log","arr","filter","toLowerCase","includes","map","Adding","props","onSubmit","addPerson","newName","onChange","addName","newNumber","addNumber","type","Filter","addSearch","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","color","className","App","useState","setPersons","setNewName","setNewNumber","setSearch","setMessage","sucorerr","setSucorerr","useEffect","numberService","res","event","target","preventDefault","y","window","confirm","updated","setTimeout","updatePerson","perObject","Math","max","concat","p","catch","dude","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.db799eee.chunk.js","sourcesContent":["const Person = ({ person, deleteNumber }) => {\r\n    return (\r\n      <div>\r\n        <li>{person.name} {person.number} <button onClick={()=>deleteNumber(person.id)} value={person.id}>delete</button></li>\r\n      </div>\r\n    )\r\n  }\r\n  export default Person","import Person from './Person'\r\nconst Persons = ({ persons, search, deleteNumber}) => {\r\n  console.log(persons);\r\n    let arr = persons.filter(person => person.name.toLowerCase().includes(search.toLowerCase()) || person.number.includes(search))\r\n  \r\n    return (\r\n      <div>\r\n        {arr.map(person =>\r\n          <Person key={person.name} person={person} deleteNumber={deleteNumber}/>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\nexport default Persons","const Adding = (props) => {\r\n    return(\r\n    <form onSubmit={props.addPerson}>\r\n      <div>\r\n        name: <input value={props.newName} onChange={props.addName} />\r\n      </div>\r\n      <div>\r\n        number: <input value={props.newNumber} onChange={props.addNumber} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n    )\r\n  }\r\n  export default Adding","const Filter = ({ search, addSearch }) => {\r\n    return (\r\n      <div>\r\n        search: <input value={search} onChange={addSearch}></input>\r\n      </div>\r\n    )\r\n  }\r\n  export default Filter","import axios from \"axios\";\r\nconst baseUrl = 'https://frozen-tundra-20015.herokuapp.com/api/persons'\r\n\r\n\r\nconst getAll = () =>{\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\nconst deletion = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { getAll, create, update, deletion }","const Notification = ({message, color}) =>{\r\n\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={color}>\r\n            {message}\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './Components/Persons'\nimport Adding from './Components/Adding'\nimport Filter from './Components/Filter'\nimport numberService from './services/numbers'\nimport Notification from './Components/Notification'\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [search, setSearch] = useState('')\n  const [message, setMessage] = useState(null)\n  const [sucorerr, setSucorerr] = useState('error')\n\n  const addName = (event) => {\n    setNewName(event.target.value)\n\n  }\n\n  const addNumber = (event) => {\n    setNewNumber(event.target.value)\n\n  }\n  const addSearch = (event) => {\n    setSearch(event.target.value)\n  }\n  const updatePerson = () => {\n    let filtered = persons.filter(y => y.name === newName)\n    let updated = {\n      id: filtered[0].id,\n      name: newName,\n      number: newNumber\n    }\n    numberService.update(updated.id, updated)\n      .then(res => {\n        setPersons(persons.map(person => person.id !== updated.id ? person : res))\n        setSucorerr('success')\n        setMessage(`${updated.name} was updated!`)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n      })\n  }\n  const addPerson = (event) => {\n    event.preventDefault()\n    console.log('name', newName, 'number', newNumber);\n    let arr = persons.map(y => y.name)\n    if (arr.includes(newName)) {\n      if (window.confirm(`${newName} is already in your phonebook. Do you want to update the number?`)) {\n        updatePerson()\n      }\n    } else {\n      const perObject = {\n        id: (Math.max(persons.map(y=>y.id))+ 1),\n        name: newName,\n        number: newNumber\n      }\n      numberService.create(perObject)\n        .then((res) => {\n\n          setPersons(persons.concat(perObject))\n          setNewName('')\n          setNewNumber('')\n          console.log('name', newName, 'number', newNumber);\n          setSucorerr('success')\n          setMessage(`${perObject.name} was added!`)\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  useEffect(() => {\n    console.log('effect')\n    numberService\n      .getAll()\n      .then(res => {\n        console.log('promise fulfilled')\n        setPersons(res)\n        console.log('promise fulfilled')\n      })\n  }, [])\n\n  const deleteNumber = (value) => {\n\n    if (window.confirm('Do you really want to delete this number??')) {\n      console.log(value);\n      numberService\n        .deletion(value)\n        .then(res => {\n          console.log(res)\n          setPersons(persons.filter(p => p.id !== value))\n        })\n        .catch(() => {\n          const dude = persons.find(y => y.id === value)\n          setSucorerr('error')\n          setMessage(`${dude.name} was already deleted!`)\n          setPersons(persons.filter(p => p.id !== value))\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        }\n        )\n    }\n\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={message} color={sucorerr} />\n      <Filter search={search} addSearch={addSearch} />\n      <h2>Add new contact</h2>\n      <Adding addName={addName} addNumber={addNumber} addPerson={addPerson} newName={newName} newNumber={newNumber} />\n      <h2>Numbers</h2>\n      <Persons persons={persons} search={search} deleteNumber={deleteNumber} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './style.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}